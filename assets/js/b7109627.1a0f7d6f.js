"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[32386],{80864:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return p},default:function(){return u},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return c}});var n=a(83117),i=a(80102),o=(a(67294),a(3905)),r=a(13904),s=["components"],l={title:"Component lead review",tags:["Processes","Integration"]},p=void 0,d={unversionedId:"development/process/integration/clr",id:"development/process/integration/clr",title:"Component lead review",description:"This document summarises the intent, purpose, and process surrounding component lead reviews (CLR).",source:"@site/general/development/process/integration/clr.md",sourceDirName:"development/process/integration",slug:"/development/process/integration/clr",permalink:"/devdocs/general/development/process/integration/clr",draft:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/development/process/integration/clr.md",tags:[{label:"Processes",permalink:"/devdocs/general/tags/processes"},{label:"Integration",permalink:"/devdocs/general/tags/integration"}],version:"current",lastUpdatedBy:"Andrew Lyons",lastUpdatedAt:1655463803,formattedLastUpdatedAt:"17/06/2022",frontMatter:{title:"Component lead review",tags:["Processes","Integration"]},sidebar:"process",previous:{title:"Integration review",permalink:"/devdocs/general/development/process/integration-review"},next:{title:"Testing",permalink:"/devdocs/general/development/process/testing"}},m={},c=[{value:"Purpose",id:"purpose",level:2},{value:"Issues appropriate for CLR",id:"issues-appropriate-for-clr",level:2},{value:"Considerations",id:"considerations",level:2},{value:"Process",id:"process",level:2},{value:"Schedule",id:"schedule",level:2},{value:"Becoming a component lead reviewer",id:"becoming-a-component-lead-reviewer",level:2}],h={toc:c};function u(e){var t=e.components,p=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},h,p,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(r.Z,(0,n.Z)({frontMatter:l},void 0!==d?{metadata:d}:{},{mdxType:"MoodlePageBanner"})),(0,o.kt)("p",null,"This document summarises the intent, purpose, and process surrounding component lead reviews (CLR)."),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Please note:")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The component lead review process (CLR) is new and currently open by invitation only."))),(0,o.kt)("h2",{id:"purpose"},"Purpose"),(0,o.kt)("p",null,"The purpose of the component lead review is to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Ensure consistent quality across the codebase"),(0,o.kt)("li",{parentName:"ul"},"Ensure that the pedagogical aims of Moodle are at the forefront of any change"),(0,o.kt)("li",{parentName:"ul"},"Take into consideration the holistic view of moodle, looking at the impact beyond where the original developer was focused"),(0,o.kt)("li",{parentName:"ul"},"Provide guidance and feedback to developers, helping them learn and improve"),(0,o.kt)("li",{parentName:"ul"},"Consider ",(0,o.kt)("strong",{parentName:"li"},"other perspectives")," of other users perhaps not considered by original developers, for example:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Teachers"),(0,o.kt)("li",{parentName:"ul"},"Students"),(0,o.kt)("li",{parentName:"ul"},"Administrators"),(0,o.kt)("li",{parentName:"ul"},"The Moodle mobile app"),(0,o.kt)("li",{parentName:"ul"},"Third-party developers")))),(0,o.kt)("p",null,"The component lead review process must consider the ",(0,o.kt)("a",{parentName:"p",href:"/general/development/process/integration-review#integration-principles"},"Integration principles")," at all times."),(0,o.kt)("h2",{id:"issues-appropriate-for-clr"},"Issues appropriate for CLR"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Attention")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You should only consider issues which belong to your own component for CLR."))),(0,o.kt)("p",null,"Not all changes are suited to the component lead review process. Whilst most of these will be automatically categorised and will not be included in the CLR queue, some situations may be missed. If in doubt, the following are not suited to the CLR process:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Major API changes"),(0,o.kt)("li",{parentName:"ol"},"Major User Interface changes"),(0,o.kt)("li",{parentName:"ol"},"Introduction of new components (plugins, or subsystems)"),(0,o.kt)("li",{parentName:"ol"},"Introduction of new third-party libraries"),(0,o.kt)("li",{parentName:"ol"},"Changes to core subsystems and/or infrastructure"),(0,o.kt)("li",{parentName:"ol"},"Changes to themes")),(0,o.kt)("p",null,"If you are uncertain about a change, and do not feel confident in landing it, please pass it to the ",(0,o.kt)("strong",{parentName:"p"},"Integration Review")," queue instead."),(0,o.kt)("h2",{id:"considerations"},"Considerations"),(0,o.kt)("p",null,"The Component lead review process requires you to:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Check the result of automated pre-checks run against the continuous integration server."),(0,o.kt)("li",{parentName:"ol"},"Perform a final code review, much like the peer review, except that this is the final check. This:",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Takes place in-situ (against the integration branches) to examine the impact of the changes with other integrated issues"),(0,o.kt)("li",{parentName:"ol"},"Includes checks:",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"for the coding guidelines - syntax/whitespace"),(0,o.kt)("li",{parentName:"ol"},"for Moodleisms - using the built-in API functions where appropriate"),(0,o.kt)("li",{parentName:"ol"},"with regards Cross-DB compatibility"),(0,o.kt)("li",{parentName:"ol"},"security"))))),(0,o.kt)("li",{parentName:"ol"},"Check the purpose of the change - the patch needs to fix the issue reported."),(0,o.kt)("li",{parentName:"ol"},"Verify that target branches are appropriate -- they must match 100% the rules defined for ",(0,o.kt)("a",{parentName:"li",href:"/general/development/policies/backporting"},"backporting issues"),"."),(0,o.kt)("li",{parentName:"ol"},"Ensure backwards compatibility is maintained. As a starting point backwards compatibility must always be maintained. Where backwards compatibility is affected it should be:",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Well discussed with evidence of justification"),(0,o.kt)("li",{parentName:"ol"},"Documented and communicated to the community"))),(0,o.kt)("li",{parentName:"ol"},"Ensure backwards compatibility with the Moodle mobile app. Especially in areas where the Moodle app uses pre-rendered content from the site (like Quiz or Lesson)"),(0,o.kt)("li",{parentName:"ol"},"Verify that components are correct and check the right people have been involved (for example, component maintainers)"),(0,o.kt)("li",{parentName:"ol"},"Tests - must be written to guide tester to verify the fix is working.",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Manual tests should adhere to the ",(0,o.kt)("a",{parentName:"li",href:"/general/development/process/testing/guide"},"testing guidelines")),(0,o.kt)("li",{parentName:"ol"},"Unit tests - very much preferred if applicable"),(0,o.kt)("li",{parentName:"ol"},"Behat tests - preferred if relevant"))),(0,o.kt)("li",{parentName:"ol"},"Check performance - we have to look at maintaining optimum code here, as far as simple patches that can affect performance. (simple optimisations)")),(0,o.kt)("h2",{id:"process"},"Process"),(0,o.kt)("p",null,"The process of component lead review is summarised in the following process workflow:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"CLR workflow",src:a(50957).Z,width:"807",height:"739"})),(0,o.kt)("p",null,"To summarise:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Component leads who have been allocated the CLR role are able to take issues from the ",(0,o.kt)("a",{parentName:"li",href:"https://tracker.moodle.org/"},"Waiting for CLR queue")," and progressed them the ",(0,o.kt)("inlineCode",{parentName:"li"},"CLR in progress")," state."),(0,o.kt)("li",{parentName:"ol"},"If information, or changes are required from the original developer then they may optionally be progressed to the ",(0,o.kt)("inlineCode",{parentName:"li"},"Waiting for CLR feedback")," status to allow the assignee time to respond."),(0,o.kt)("li",{parentName:"ol"},"After the review has been completed, and all issues addressed, the issue status is updated to the ",(0,o.kt)("inlineCode",{parentName:"li"},"Waiting for Push")," state."),(0,o.kt)("li",{parentName:"ol"},"An integrator will pick issues from the push queue, and perform final superficial checks on them, before landing them.")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"Component leads may only review issues in their own component"),(0,o.kt)("li",{parentName:"ul"},"Only issues in the CLR queue should be picked"),(0,o.kt)("li",{parentName:"ul"},"If you are uncertain about a change, or feel that it does not meet the criteria for component lead review, please send the issue to the standard Integration queue.")))),(0,o.kt)("h2",{id:"schedule"},"Schedule"),(0,o.kt)("p",null,"Component lead reviews may take place at any time, however, the push queue is progressed according to the standard ",(0,o.kt)("a",{parentName:"p",href:"/general/development/process/integration-review#schedule"},"integration review schedule"),"."),(0,o.kt)("h2",{id:"becoming-a-component-lead-reviewer"},"Becoming a component lead reviewer"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"At this time the CLR process is by invitation only while the finer details are confirmed."))),(0,o.kt)("p",null,"The role of component lead reviewer is only available to those who are a component lead, and who have demonstrated a high level of detail in their own issues, and peer reviews."))}u.isMDXComponent=!0},50957:function(e,t,a){t.Z=a.p+"assets/images/clrworkflow-281c0a10a1df44508e50de33b9014d84.png"}}]);