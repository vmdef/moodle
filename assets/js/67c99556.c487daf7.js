"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[63229],{16141:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return d},metadata:function(){return p},toc:function(){return k}});var n=a(83117),r=a(80102),l=(a(67294),a(3905)),i=a(13904),o=["components"],d={title:"Release process",sidebar_label:"Release",tags:["Processes","Release notes"]},s=void 0,p={unversionedId:"development/process/release",id:"development/process/release",title:"Release process",description:"8 weeks prior",source:"@site/general/development/process/release.md",sourceDirName:"development/process",slug:"/development/process/release",permalink:"/devdocs/general/development/process/release",draft:!1,editUrl:"https://github.com/moodle/devdocs/edit/main/general/development/process/release.md",tags:[{label:"Processes",permalink:"/devdocs/general/tags/processes"},{label:"Release notes",permalink:"/devdocs/general/tags/release-notes"}],version:"current",lastUpdatedBy:"Andrew Lyons",lastUpdatedAt:1655463803,formattedLastUpdatedAt:"17/06/2022",frontMatter:{title:"Release process",sidebar_label:"Release",tags:["Processes","Release notes"]},sidebar:"process",previous:{title:"FAQ",permalink:"/devdocs/general/development/process/translation/faq"},next:{title:"New user docs",permalink:"/devdocs/general/development/process/release/newuserdocs"}},m={},k=[{value:"8 weeks prior",id:"8-weeks-prior",level:2},{value:"7 weeks prior",id:"7-weeks-prior",level:2},{value:"6 weeks prior",id:"6-weeks-prior",level:2},{value:"5 weeks prior",id:"5-weeks-prior",level:2},{value:"4 weeks prior",id:"4-weeks-prior",level:2},{value:"3 weeks prior",id:"3-weeks-prior",level:2},{value:"2 weeks prior",id:"2-weeks-prior",level:2},{value:"1 week prior",id:"1-week-prior",level:2},{value:"Releasing",id:"releasing",level:2},{value:"Packaging",id:"packaging",level:3},{value:"Release day",id:"release-day",level:3},{value:"1 week after",id:"1-week-after",level:2},{value:"2 weeks after",id:"2-weeks-after",level:2},{value:"1 month after",id:"1-month-after",level:2},{value:"See also",id:"see-also",level:2}],g={toc:k};function u(e){var t=e.components,a=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,n.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)(i.Z,(0,n.Z)({frontMatter:d},void 0!==p?{metadata:p}:{},{mdxType:"MoodlePageBanner"})),(0,l.kt)("h2",{id:"8-weeks-prior"},"8 weeks prior"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Recurring release epics review:",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,"Review how previous deprecation epics are going and share about them."),(0,l.kt)("li",null,"Review how previous library review epics are going and share about them."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Ensure we are running latest/good behat, phpunit and nodejs (npm) versions."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Confirm external testers daily availability from -6w to release (internally with dev manager and then, externally, with contractors). They start in just 2 weeks!"),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("ul",null,(0,l.kt)("li",null,"Move QA tests for new features in old release with automated tests from ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDLQA-1"},"MDLQA-1")," to ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDLQA-5249"},"MDLQA-5249"),"."),(0,l.kt)("li",null," Remind devs:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"To label issues qa_test_required when a new feature/improvement is landing without automated tests. Also add a comment advising exactly what should be covered in the QA test (for example, steps 6-10 in testing instructions)."),(0,l.kt)("li",null,"The best possible lang strings land at first attempt. Given the proximity of the major release and to facilitate the work of translators and others... the sooner, the better, instead of relying on (late) en_fixes too much."))))),(0,l.kt)("td",{parentName:"tr",align:null},"Testing Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("ul",null,(0,l.kt)("li",null,'Create a "Must fix for X.Y" version in the Tracker and adjust the ',(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Set%20integration%20priority%20to%20one/"},'"TR - Set integration priority to one"')," and ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Move%20reopened%20out%20from%20current/"},'"TR - Move reopened out from current"')," jobs in ",(0,l.kt)("strong",{parentName:"td"},"all CI servers")," to point to it."),(0,l.kt)("li",null,"Apply the following changes to filters and dashboards:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Edit the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=21363"},'All "must fix" issues')," filter used both in the release dashboard and to detect wrong uses of must-fix issues. Note that, since 3.7, this filter is fully automated and does not need edition (uses regexp to catch all must fix versions)."),(0,l.kt)("li",null,"Comment about its creation within HQ, to get people applying for it."),(0,l.kt)("li",null,"Verify that these filters (",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=18596"},"1"),", ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=18594"},"2")," and ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=18861"},"3"),"), used in the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/secure/Dashboard.jspa?selectPageId=16582"},"Release urgent dashboard"),", are working ok (they should be, automatically based in the filter edited in the previous point)."),(0,l.kt)("li",null,"Rename ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/secure/Dashboard.jspa?selectPageId=16582"},"Release urgent dashboard")," to point to incoming release (QA part of the dashboard will not work yet)"))))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")))),(0,l.kt)("h2",{id:"7-weeks-prior"},"7 weeks prior"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Full demo of new code and sign-off for internal HQ projects. Decide which projects will be completed by the code freeze."),(0,l.kt)("td",{parentName:"tr",align:null},"Head of LMS")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Check ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=labels%20%3D%20qa_test_required%20AND%20status%20%3D%20Closed"},"closed qa_test_required-labelled issues")," and create new QA tests as required."),(0,l.kt)("td",{parentName:"tr",align:null},"Testing Maintainer")))),(0,l.kt)("h2",{id:"6-weeks-prior"},"6 weeks prior"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"The ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/integration-review#during-continuous-integration.2ffreeze.2fqa-period"},"Continuous Integration")," period begins. Warn about it everywhere (telegram, exposed posts...).",(0,l.kt)("br",null),"Rolling (on demand, beta, rc... all them together with stable weeklies) happens often (Tuesday & Friday are the usual days). All the team is on integration 100% since this week and until the end of continuous."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},'Create the next "X.Y+1" (next dev) version in the Tracker (MDL and CONTRIB), so people can move delayed stuff to next major release if needed.'),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Warn external developers about the impending code freeze in a post to the ",(0,l.kt)("a",{parentName:"td",href:"http://moodle.org/mod/forum/view.php?id=55"},"General developer forum"),". (",(0,l.kt)("a",{parentName:"td",href:"https://moodle.org/mod/forum/discuss.php?d=225854"},"example"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Let the community know ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/testing/qa"},"QA testing")," starts in two weeks and how they can participate."),(0,l.kt)("td",{parentName:"tr",align:null},"Community Manager")))),(0,l.kt)("h2",{id:"5-weeks-prior"},"5 weeks prior"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Confirm the code freeze by replying to the previous warning in the ",(0,l.kt)("a",{parentName:"td",href:"http://moodle.org/mod/forum/view.php?id=55"},"General developer forum"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Development manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"This week, once the freeze has happened at 11:00 UTC:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"The ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Manage%20queues%20on%20normal/"},"Manage queues on normal")," job has to be disabled."),(0,l.kt)("li",null,"Immediately after that, the ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Move%20awaiting%20issues%20to%20current%20integration/"},"Move awaiting issues to current integration")," job must be enabled and executed, only once, and all the candidate issues already @ integration will come to the current queue. All them did the freeze."),(0,l.kt)("li",null,"Once run, disable the job again to avoid executing it by mistake."),(0,l.kt)("li",null,"Once the previous job has ended, the ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Manage%20queues%20on%20continuous/"},"Manage queues on continuous")," job, in charge of managing the integration queues after freeze, will be enabled (until the end of on-sync). It performs some tasks like moving important (must fix, qa, security...) issues to the current integration queue and also keep if fed by priority when there are few issues remaining. ",(0,l.kt)("strong",{parentName:"td"},"Don't forget")," to configure the ",(0,l.kt)("inlineCode",{parentName:"td"},"releasedate")," date to get it automatically holding issues the last week (instead of moving them to current integration) and also processing issues over the on-sync (after release) period."))," Irrespectively from any automation, issues can, also, be manually picked for integration until the post-release ",(0,l.kt)("inlineCode",{parentName:"td"},"On Sync")," period ends, usually 2 weeks after release.",(0,l.kt)("br",null),(0,l.kt)("br",null),'Review all the new features and improvements so, everything "unrelated" with the release, is given the ',(0,l.kt)("inlineCode",{parentName:"td"},"integration_held")," label. That means that will be ignored unless there is an ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/integration-review#during-continuous-integration.2ffreeze.2fqa-period"},"unhold request process")," started on them.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Dev leaders promptly vote on held issues labelled with ",(0,l.kt)("inlineCode",{parentName:"td"},"unhold_requested")," label and decide whether they can be allowed to break the freeze."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Prepare a fresh installation of the ",(0,l.kt)("a",{parentName:"td",href:"http://qa.moodle.net"},"QA site")," based on the beta code to make sure the site is not affected by incremental upgrade steps during the development cycle."),(0,l.kt)("td",{parentName:"tr",align:null},"QA Master Site Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Begin reviewing ",(0,l.kt)("a",{parentName:"td",href:"https://lang.moodle.org/mod/forum/view.php?id=7"},"new and changed English language strings")," ready for ",(0,l.kt)("inlineCode",{parentName:"td"},"en_fix")," to be merged 2 weeks prior."),(0,l.kt)("td",{parentName:"tr",align:null},"English fixes lang pack maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Review standards certifications (Open Badges, LTI, etc) and schedule in recertification to be performed."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")))),(0,l.kt)("h2",{id:"4-weeks-prior"},"4 weeks prior"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Start reviewing fixed issues and add the release_notes label to all issues to be listed in the release notes."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Review requirements for adding user tours for new features in the upcoming release (clone of ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-72783"},"MDL-72783"),"). Review existing tours and remove very old ones (clone of ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-72781"},"MDL-72781"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Beta release (The Moodle release tool - ",(0,l.kt)("inlineCode",{parentName:"td"},"mdlrelease")," - manages it): Release normal weeklies but with these changes in the master branch being considered all the time, until we are feature complete (can happen @ -4w - ideally - but also later): ",(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"version.php"),": Move to ",(0,l.kt)("inlineCode",{parentName:"td"},"$maturity = MATURITY_BETA")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"$release = 'X.Ybeta (Build:xxxxxxxx)'")),(0,l.kt)("li",null,"tag git repo with: ",(0,l.kt)("inlineCode",{parentName:"td"},"vX.Y.0-beta")," (and ",(0,l.kt)("inlineCode",{parentName:"td"},"MOODLE_XY_BETA")," as description and Git tag)"),(0,l.kt)("li",null,"Automatic: Confirm packages are available under ",(0,l.kt)("a",{parentName:"td",href:"https://download.moodle.org"},"download.moodle.org")," (and windows)."),(0,l.kt)("li",null,"Once the beta is available create the ",(0,l.kt)("inlineCode",{parentName:"td"},"testing matrix for X.Y.0")," and share it @ HQ & Dev. chat."),(0,l.kt)("li",null,"(Optionally) Announce Beta release in forums (ideally once packages are available)."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Clone ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-72815"},"MDL-72815")," for the X.Y release, adding there all the debugging / PHP notices happening in the web server logs while running tests."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Release candidates release (The Moodle release tool - ",(0,l.kt)("inlineCode",{parentName:"td"},"mdlrelease")," - manages it): At some points (between beta to final release) produce release candidates (Z = 1, 2, 3..), which are normal builds with the following changes:",(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"version.php"),": Move to ",(0,l.kt)("inlineCode",{parentName:"td"},"$maturity = MATURITY_RC")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"$release = 'X.YrcZ (Build:xxxxxxxx)'")),(0,l.kt)("li",null,"tag git repo with: ",(0,l.kt)("inlineCode",{parentName:"td"},"vX.Y.0-rcZ")," (and ",(0,l.kt)("inlineCode",{parentName:"td"},"MOODLE_XY_RCZ")," as description and Git tag)"),(0,l.kt)("li",null,"Automatic: Confirm packages are available under ",(0,l.kt)("a",{parentName:"td",href:"https://download.moodle.org"},"download.moodle.org")," (and windows)."),(0,l.kt)("li",null,'Upgrade all the Moodle CI sites to recent release candidate by configuring the "Moodle CI Auto Upgrade" job in all them.'))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"6."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Add a new version in the Plugins Directory with the version's name and the beta release version build number (",(0,l.kt)("a",{parentName:"td",href:"https://moodle.org/plugins/admin/softwareversions.php"},"https://moodle.org/plugins/admin/softwareversions.php"),").",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Any standard plugins being retired from the release can transition to Add-on (that supports this release and/or any previous ones) now."),(0,l.kt)("li",null,"These plugins currently collect at ",(0,l.kt)("a",{parentName:"td",href:"https://moodle.org/plugins/browse.php?list=contributor&id=1532512"},"https://moodle.org/plugins/browse.php?list=contributor&id=1532512")))),(0,l.kt)("td",{parentName:"tr",align:null},"Plugins Liaison")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"7."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Push any plugins to the plugins database which were previously a part of core."),(0,l.kt)("td",{parentName:"tr",align:null},"Plugins Liaison")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"8."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Tidy up current latest en version of Moodle Docs prior to copying it to create new version wiki as described in ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/release/newuserdocs"},"New docs version process"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Community Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"9."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Create new QA test cycle and post in moodle.org front page news forum about ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/testing/qa"},"QA testing"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Testing Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"10."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Invite community volunteers to start ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/testing/qa"},"QA testing"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Community Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"11."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Modify ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=11824"},"Current QA cycle filter")," to link to the new QA test cycle"),(0,l.kt)("td",{parentName:"tr",align:null},"Testing Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"12."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Monitor QA fails. Check each fail is real and if so ensure an MDL issue has been created and correctly linked and labelled."),(0,l.kt)("td",{parentName:"tr",align:null},"Testing Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"13."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},'Monitor MDL issues created for QA fails. Add them to the "Must fix for X.Y" list and get a developer to work on the issue immediately.'),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"14."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Review the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=17705&jql=filter%20%3D%2011701%20AND%20type%20!%3D%20Bug"},"list of features and improvements submitted before code freeze")," which are awaiting integration review and decide on related QA tests to be put on hold."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")))),(0,l.kt)("h2",{id:"3-weeks-prior"},"3 weeks prior"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Ask developers to begin QA tests marked ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=22055"},(0,l.kt)("inlineCode",{parentName:"a"},"external_skipped"))," then ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=22055&jql=filter%20%3D%20%22Current%20QA%20cycle%20filter%22%20AND%20status%20%3D%20Open%20AND%20labels%20%3D%20test_server_required%20"},(0,l.kt)("inlineCode",{parentName:"a"},"test_server_required")," tests")," and ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=22055&jql=filter%20%3D%20%22Current%20QA%20cycle%20filter%22%20AND%20status%20%3D%20Open%20AND%20labels%20%3D%20credentials_required"},(0,l.kt)("inlineCode",{parentName:"a"},"credentials_required")," tests"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Create new en and de Moodle Docs version wikis."),(0,l.kt)("td",{parentName:"tr",align:null},"Moodle Docs Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Go through all points listed under 3 weeks prior in ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/release/newuserdocs"},"New docs version process"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Community Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Review issues with labelled with ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=11824&jql=labels%20in%20%28dev_docs_required%29%20AND%20resolution%20%3D%20fixed%20ORDER%20BY%20assignee%20ASC%2C%20created%20ASC"},(0,l.kt)("inlineCode",{parentName:"a"},"dev_docs_required")),", prompting assigned developers to create/update this documentation and remove this label when relevant docs are updated."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Verify how everything is going and, before the end of the week, decide (dev leaders & integrators) if there are real reasons for delaying any release. Whenever a delay is agreed, run the ",(0,l.kt)("em",{parentName:"td"},'"Release delaying process"')," (doc) actions ASAP.",(0,l.kt)("br",null),(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"td"},"Important note"),": ASAP stands for as soon as possible ;-), the delay needs to happen before the last week before release begins (there are flows changing that week requiring the decision and actions to be taken and applied earlier)"),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")))),(0,l.kt)("h2",{id:"2-weeks-prior"},"2 weeks prior"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Check the number of open QA tests. Depending on the amount of work involved, encourage HQ developers to assist from the start of the week or later in the week in order to achieve the target of 100% pass rate by the end of the week."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Create MDLSITE issue to ensure all ",(0,l.kt)("a",{parentName:"td",href:"https://prototype.moodle.net"},"prototype.moodle.net")," sites which are no longer relevant (part of release) are removed from ",(0,l.kt)("a",{parentName:"td",href:"https://prototype.moodle.net"},"prototype.moodle.net")),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Merge ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=summary%20~%20%22en_fix%22%20order%20by%20createdDate%20desc"},"fixes from ",(0,l.kt)("inlineCode",{parentName:"a"},"en_fix"))," pack and then integrate them."),(0,l.kt)("td",{parentName:"tr",align:null},"AMOS Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Give Partners complete branded Marketing pack for release including list and description of major new features."),(0,l.kt)("td",{parentName:"tr",align:null},"Marketing Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Label (",(0,l.kt)("inlineCode",{parentName:"td"},"ui_change"),") in the Tracker all pending issues having ",(0,l.kt)("strong",{parentName:"td"},"noticeable UI modifications"),' and track them in the "',(0,l.kt)("a",{parentName:"td",href:"https://docs.google.com/spreadsheets/d/18xZf9OgKrndi7CwSTwjwjF_rzGYCWFuGjNNaaDVZDM4/edit?usp=sharing"},"Late landing UI changes"),'" sheet, in order to have all the associated docs, screenshots, videos under control. The Integration and Documentation people will try to ',(0,l.kt)("strong",{parentName:"td"},"keep the sheet updated until release"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"6."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"For major releases, use (clone if needed) ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-72836"},"MDL-72836")," to keep the security.txt files in all supported branches updated. For minor releases, also check the security.txt expiry dates in all security supported branches in case known release delays will result in any security.txt expiring before the next release - in that case relevant branches should also be updated."),(0,l.kt)("td",{parentName:"tr",align:null},"Security Officer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"7."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Identify issues that may block the release (for example, security, must-fix issues, etc.) and confirm with team leads. This is to ensure that these issues are prioritised and allow us to be able to land them as early as possible and ensure a timely release schedule."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Lead")))),(0,l.kt)("h2",{id:"1-week-prior"},"1 week prior"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Clone as many filters as needed in the Tracker, modifying them to point to the new, upcoming, branch (keeping same perms, title...)."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Create new minor version X.Y.Z+1 in the Tracker (MDL and CONTRIB). Archive any version > 6 months old, verifying that ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=project%3DMDL%20AND%20status%20!%3D%20Closed%20AND%20fixVersion%20%3D%20VERSION_TO_ARCHIVE"},"there aren't open issues using that version"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Clone ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-71583"},"MDL-71583")," and bump all versions, requires and dependencies along all plugins in codebase to planned release dates."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},'Post a "Heads-up" message on the ',(0,l.kt)("a",{parentName:"td",href:"http://moodle.org/mod/forum/view.php?id=55"},"General Developer forum")," and ",(0,l.kt)("a",{parentName:"td",href:"https://moodleassociation.org/"},"MUA website"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},'Post a "Heads-up" message on the ',(0,l.kt)("a",{parentName:"td",href:"https://partners.moodle.com/mod/forum/view.php?id=147"},"Partners forum"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Security Officer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"6."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},'Post a "Heads-up" message on Twitter and other outlets.'),(0,l.kt)("td",{parentName:"tr",align:null},"Marketing Officer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"7."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Identify security issues that need to be integrated using the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=21712"},"security issues under integration filter")," (includes held, being integrated and ready issues).",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Integrate from provided patches into supported branches (including branches supported only for security issues)."),(0,l.kt)("li",null,"Ensure security issues are given priority in weekly integration and testing. Note that the ",(0,l.kt)("inlineCode",{parentName:"td"},"--weekly")," releases to be performed this week are 100% normal and cover the standard (supported) branches. security branches will come as part of the release process later in the week."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"8."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Collect security issues into a clone of the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=project%20%3D%20MDL%20AND%20level%20is%20not%20EMPTY%20AND%20summary%20~%20%22security%20advisories%22%20ORDER%20BY%20updated%20DESC"},"last advisory in the list")," to prepare for release of Security Advisories.",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Determine which security issues will be integrated."),(0,l.kt)("li",null,"Request CVE Identifiers by emailing issue descriptions to ",(0,l.kt)("a",{parentName:"td",href:"mailto:secalert@redhat.com"},"secalert@redhat.com")," with a message like: ",(0,l.kt)("q",null,"The following security issues have been discovered in Moodle. We request CVE Identifiers for these issues. We will be releasing the security announcements for these on moodle.org on XXX at 12noon AWST which is 04:00 UTC"),"The email subject should include the characters ",(0,l.kt)("inlineCode",{parentName:"td"},"[vs]"),". The format needs to be plain text or encrypted. When granted CVE Identifiers, our issues should appear in the ",(0,l.kt)("a",{parentName:"td",href:"http://cve.mitre.org/cve/cve.html"},"CVE list"),". ",(0,l.kt)("a",{parentName:"td",href:"http://oss-security.openwall.org/wiki/mailing-lists/distros"},"More instructions")," are available (since 2015 we request identifiers from redhat and not from distros)."),(0,l.kt)("li",null,'Post security issues as a reply to the "Heads-up" message on the ',(0,l.kt)("a",{parentName:"td",href:"https://partners.moodle.com/mod/forum/view.php?id=147"},"Partners forum"),"."))),(0,l.kt)("td",{parentName:"tr",align:null},"Security Officer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"9."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Release notes tasks:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Review and complete the ",(0,l.kt)("a",{parentName:"td",href:"/general/releases"},"release notes"),", making sure that issues have easily understandable summaries. Aim to have the release notes mostly complete on the Wednesday before release, and fully complete on the Friday, to give translators time to translate them."),(0,l.kt)("li",null,"Ensure all issues labelled with ",(0,l.kt)("inlineCode",{parentName:"td"},"ui_change"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"api_change")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"release_notes")," are listed as UI changes, functional changed and fixes/improvements respectively in the release notes."))),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"10."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Review the following issues: ",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Check on the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=21363"},(0,l.kt)("inlineCode",{parentName:"a"},"Must fix for X.Y version")),". Filter out unrealistic issues."),(0,l.kt)("li",null,"Check on the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=22350"},'"Bug issues held last week before release"'),". Consider to request the un-holding of release related/blocker ones."))),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"11."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Upgrade ",(0,l.kt)("a",{parentName:"td",href:"https://moodle.org/"},"moodle.org")," to beta release"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"12."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Prepare pull requests for CI Repositories:",(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"MR1"),": Create a new version, with unit tests, in Jobs repository (",(0,l.kt)("a",{parentName:"td",href:"https://git.in.moodle.com/integration/nightlyjobs/merge_requests/24"},"see example from 3.11 release"),")"),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"MR2"),": Create a new symlink for the version in ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner"},"moodle-ci-runner")," repository (",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner/pull/41"},"see example from 3.11 release"),")"),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"MR3"),": Configure CIs to skip language upgrade in ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner"},"moodle-ci-runner")," repository (",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner/pull/35"},"see example from 3.10 release"),")"),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"MR4"),": Configure CIs to stop skipping language upgrade in ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner"},"moodle-ci-runner")," repository for after on-sync (",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner/pull/40"},"see example from 3.10 release"),") -- ",(0,l.kt)("strong",{parentName:"td"},"Note"),": This change should be based on the previous and only applied when the lang packs corresponding to the version being released are available."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"13."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Go through all points listed under 1 week prior in ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/release/newuserdocs"},"New docs version process"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Community Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"14."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Update the ",(0,l.kt)("inlineCode",{parentName:"td"},"BRANCHLIST")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"VERSIONLIST")," in the ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodle/jsdoc"},"JSDoc")," and ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodle/phpdoc"},"PHPDoc")," repositories with the list of supported versions. These are built on a Sunday so this should be done in the final week before release."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")))),(0,l.kt)("h2",{id:"releasing"},"Releasing"),(0,l.kt)("h3",{id:"packaging"},"Packaging"),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This should happen immediately before the next integration cycle begins on Monday (that is, some days after last weekly, 2 days prior to official release)."))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Check list:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Make sure there are no real blockers introduced in the last weekly (install, upgrade...)."),(0,l.kt)("li",null,"Confirm that the latest ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=summary%20~%20%22en_fix%22%20order%20by%20createdDate%20desc"},(0,l.kt)("inlineCode",{parentName:"a"},"en_fix")," changes")," have been generated and integrated."),(0,l.kt)("li",null,"Verify that ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=text%20~%20%22%2BPrepare%20%2Bsecurity%20%2Badvisories%20%2Bfriends%22%20ORDER%20BY%20updated%20DESC"},"all security issues")," have been integrated and there are not leftovers in the security area (but for delayed majors, where some security issues may have been introduced along the delay and they will be postponed to next minors)."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Verify all unit tests and integration tests have passed (check all current CI servers in use)."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Verify QA tests have passed."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Timing prerequisites (don't continue with the process if not within the time window!):",(0,l.kt)("ol",null,(0,l.kt)("li",null,"Latest weeklies before the minor/major releases must be done (",(0,l.kt)("inlineCode",{parentName:"td"},"moodle-package-extract-and-postprocess")," email should confirm this has happened around 09:00 Australia/Perth)."),(0,l.kt)("li",null,"Minor and major releases can be packaged at any time within the 96 hours before the automatic releasing time (Monday 09:00 Australia/Perth). And always, at very least, 4 hours before then (to allow the server to prepare all the stuff)."))," In practice, this means that the packaging of minor/major releases must be done, assuming that weeklies were rolled normally on Thursday, between Friday 09:00 and Monday 05:00 (Australia/Perth times). ",(0,l.kt)("strong",{parentName:"td"},"Breaking any of these rules will require manual operation in the server"),", forcing repackaging and releasing.",(0,l.kt)("br",null),(0,l.kt)("br",null),"Follow the ",(0,l.kt)("inlineCode",{parentName:"td"},"mdlrelease")," steps:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Run the ",(0,l.kt)("inlineCode",{parentName:"td"},"prerelease.sh")," script to generate the target minor (",(0,l.kt)("inlineCode",{parentName:"td"},"--type minor"),") and major (",(0,l.kt)("inlineCode",{parentName:"td"},"--type major"),") releases and their corresponding tags. Pay attention to the complete output of the process: permissions, svg, travis changes (only for majors)... Triple verify all changes are correct! (can use the ",(0,l.kt)("inlineCode",{parentName:"td"},"--show")," option to inspect them). "),(0,l.kt)("li",null,"Follow the on-screen instructions."),(0,l.kt)("li",null,"Push changes to integration.git (but tags).")),(0,l.kt)("br",null),"For major releases, only when a new STABLE branch has been created:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Run the ",(0,l.kt)("inlineCode",{parentName:"td"},"prerelease.sh")," script (",(0,l.kt)("inlineCode",{parentName:"td"},"--type back-to-dev"),") to move master to next X.Y+1 development version/branch."),(0,l.kt)("li",null,'Push changes to integration.git - note this will lead to the "versions checker" failing for master, no problem, it will be fixed by the 1st cloned issue at #12 below).'),(0,l.kt)("li",null,"Configure ",(0,l.kt)("inlineCode",{parentName:"td"},"mdlrelease")," (",(0,l.kt)("inlineCode",{parentName:"td"},"config.sh"),") to know about the new ",(0,l.kt)("inlineCode",{parentName:"td"},"MOODLE_XY")," stable branch."),(0,l.kt)("li",null,'Update the old CI server(s) by cloning all the "master" jobs to a new ',(0,l.kt)("inlineCode",{parentName:"td"},"MXY")," view (trick: do it down-top, way easier). Don't forget to re-chain the jobs properly.",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Adjust ",(0,l.kt)("inlineCode",{parentName:"td"},"master")," compare DB jobs to check for upgrade from ",(0,l.kt)("inlineCode",{parentName:"td"},"MOODLE_XY_STABLE"),"."),(0,l.kt)("li",null,'Configure the "05. Check version.php files" jobs both for the involved branches (XY and master) to define the interval of versions allowed in each.'),(0,l.kt)("li",null,"Run all them."))),(0,l.kt)("li",null,"Update the new CI infrastructure:",(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"MR1"),": Merge pull request for new version in ",(0,l.kt)("a",{parentName:"td",href:"https://git.in.moodle.com/integration/nightlyjobs"},"CI Jobs Repository")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"MR2"),": Merge pull request for symlink in ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner"},"moodle-ci-runner")," repository."),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"MR3"),": Merge pull request for skipping the language upgrade in ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner"},"moodle-ci-runner")," repository."),(0,l.kt)("li",null,'Clone all the "B - master" jobs to a new "B - XY" view (there is a ',(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/maintenance/job/MAINT%20-%20Clone%20jobs%20from%20view/"},"maintenance job")," to perform the operation)."))))," ",(0,l.kt)("br",null),"Both with minors and majors, continue with the ",(0,l.kt)("inlineCode",{parentName:"td"},"mdlrelease")," steps:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Once CI servers have ended and all jobs have passed, ",(0,l.kt)("strong",{parentName:"td"},"push tags")," and run the ",(0,l.kt)("inlineCode",{parentName:"td"},"release.sh")," script to apply the changes to moodle.git."),(0,l.kt)("li",null,"If needed configure ",(0,l.kt)("inlineCode",{parentName:"td"},"mdlrelease")," (",(0,l.kt)("inlineCode",{parentName:"td"},"config.sh"),") to get rid of any unsupported version and adjust stable and security branches. Make a pull request with the changes."),(0,l.kt)("li",null,"Don't forget the ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/mdlrelease/#after-the-release"},'"After the release"')," tasks."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},'Post a "git repos updated & tagged" message on the ',(0,l.kt)("a",{parentName:"td",href:"https://partners.moodle.com/mod/forum/view.php?id=810"},"Partner forum")),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"6."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"In the ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-performance-comparison"},"performance comparison repository"),", set the new release commit hash as ",(0,l.kt)("inlineCode",{parentName:"td"},"$basecommit")," in the master branch and create a new ",(0,l.kt)("inlineCode",{parentName:"td"},"MOODLE_XY_STABLE")," branch from it. (",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-performance-comparison/commit/7c875f03e52641f69674235a8947131d77691299"},"example"),"). Also, apply it to the current performance testing infrastructure."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"7."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Wait for the automated (every 2 hours) moodle-package to finish building for all versions. Verify the process has ended successfully (email)."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"8."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("ul",null,(0,l.kt)("li",null,"Create new windows packager script (cloning the current master one and configuring it)."),(0,l.kt)("li",null,"Edit the stats.php script (in the ",(0,l.kt)("inlineCode",{parentName:"td"},"moodle-local_downloadmoodleorg")," repository), adding the new branch to the versions. Push it. Next time the plugin is deployed (normally 1 week after release approx) the stats will start showing the new branch statistics."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"9."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"In the Tracker: ",(0,l.kt)("ul",null,(0,l.kt)("li",null,'Visit the versions page and make the release, bumping all remaining open bugs to the next point release. If there is not next (end of support), clean that version from all the issues having it as "Fix for". This must be done both for the ',(0,l.kt)("a",{parentName:"td",href:"http://tracker.moodle.org/secure/project/ViewProject.jspa?pid=10011"},"Moodle Project")," and the ",(0,l.kt)("a",{parentName:"td",href:"http://tracker.moodle.org/secure/project/ViewProject.jspa?pid=10033"},"Plugins project"),"."),(0,l.kt)("li",null,"Archive all versions but the ones being released, verifying that ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=project%3DMDL%20AND%20status%20!%3D%20Closed%20AND%20fixVersion%20%3D%20VERSION_TO_ARCHIVE"},"there aren't open issues using that version"),"."),(0,l.kt)("li",null,"Remove from all screens the custom fields belonging to 100% unsupported branches.")),(0,l.kt)("br",null),"For major releases only:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Release and archive the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=affectedVersion%20~%20%22must%20fix%20for*%22%20OR%20fixVersion%20~%20%22must%20fix%20for*%22"},(0,l.kt)("inlineCode",{parentName:"a"},"Must fix for X.Y")," versions"),", it must be empty to do so."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"10."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("ul",null,(0,l.kt)("li",null,"Create the new ",(0,l.kt)("inlineCode",{parentName:"td"},"Pull X.Y Branch")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"Pull X.Y Diff URL")," custom fields and spread them to all the screens needing them (copy from previous ones). Order them properly on each screen. Re-index Tracker."),(0,l.kt)("li",null,"In the CI server edit the ",(0,l.kt)("a",{parentName:"td",href:"http://integration.moodle.org/view/tracker/job/Tracker%20-%20CI%20-%20Bulk%20precheck%20issues/"},'"Bulk pre-check issues"')," and ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Bulk%20pre-launch%20DEV%20jobs%20(awaiting_integration)/"},'"Pre-launch DEV jobs (awaiting_integration)"'),", ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Bulk%20pre-launch%20DEV%20jobs%20(list_of_mdls)/"},'"Pre-launch DEV jobs (',(0,l.kt)("inlineCode",{parentName:"a"},"list_of_mdls"),')"')," and ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/STR%20-%20Bulk%20pre-launch%20SDEV%20jobs%20(list_of_mdls)/"},'"Pre-launch ',(0,l.kt)("inlineCode",{parentName:"a"},"SDEV")," jobs (",(0,l.kt)("inlineCode",{parentName:"a"},"list_of_mdls"),')"')," jobs to make them meet the new ",(0,l.kt)("inlineCode",{parentName:"td"},"Pull X.Y Branch")," field created. At the same time, remove from those jobs any branch belonging to 100% unsupported branches."),(0,l.kt)("li",null,"Edit the ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Check%20marked%20as%20integrated/"},(0,l.kt)("inlineCode",{parentName:"a"},"Tracker - CI - Check marked as integrated"))," job to configure the development branches (",(0,l.kt)("inlineCode",{parentName:"td"},"devbranches"),') (39, 310, 311, 400...) actually active. Normally only the branch corresponding to master, but also accepts a comma separated list when under parallel development ("310,400" or "311,400" for example). Ordered by planned release date.'),(0,l.kt)("li",null,"Check/configure (again, this may be has been already executed few steps above) the ",(0,l.kt)("inlineCode",{parentName:"td"},"05. Check version.php files")," jobs both for the involved branches (",(0,l.kt)("inlineCode",{parentName:"td"},"XY")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"master"),") to define the interval of versions allowed in each."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"11."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"In the Tracker: ",(0,l.kt)("br",null),"For major releases only:",(0,l.kt)("ul",null,(0,l.kt)("li",null,'Create the new "X.Y regressions" version to be applied to every issue found to be a recent problem introduced by the major release. These issues should get priority after release.'),(0,l.kt)("li",null,"Adjust the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=17528"},"Latest regressions")," filter (requires login).")),(0,l.kt)("br",null),"For all releases:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Verify how the ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=project%20%3D%20MDL%20AND%20resolution%20%3D%20Unresolved%20AND%20affectedVersion%20in%20(versionMatches(%22.*regressions%22))"},(0,l.kt)("inlineCode",{parentName:"a"},"X.Y regressions")," versions are going")," (requires login) and ping Development Managers about. Package and archive them once empty."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"12."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Clone ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-74509"},"MDL-74509")," and ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-74510"},"MDL-74510"),", to be resolved ASAP."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"13."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("ul",null,(0,l.kt)("li",null,"Create the new ",(0,l.kt)("inlineCode",{parentName:"td"},"MOODLE_XY_STABLE")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"lastbased-MOODLE_XY_STABLE")," branches in the security repo (branching from the just created upstream ",(0,l.kt)("inlineCode",{parentName:"td"},"MOODLE_XY_STABLE")," branch)."),(0,l.kt)("li",null,"Cherry pick any security commit present in the security repository's master branch to the new ",(0,l.kt)("inlineCode",{parentName:"td"},"MOODLE_XY_STABLE")," branch (note that normally there should not be any, see point #1 check list above)."),(0,l.kt)("li",null,"Verify the new security jobs exist for the new branch and check it's working in all servers, keeping only enabled the public one."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"14."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Protect the MOODLE_XY_STABLE branches in github interface to prevent non-FF accidents ( ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDLSITE-4183"},"MDLSITE-4183")," )"),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")))),(0,l.kt)("h3",{id:"release-day"},"Release day"),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Usually on Monday"))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"The execution of ",(0,l.kt)("inlineCode",{parentName:"td"},"moodle-package-extract-and-postprocess X")," script may be needed if the releases ",(0,l.kt)("strong",{parentName:"td"},"are not going to be published on Monday")," but another weekday (X is the weekday, (1-7) starting in Monday).",(0,l.kt)("br",null),"By default it happens automatically around 09:00 AM Perth/Australia time (check emails then)."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Verify release status, download pages and windows packages."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"If needed, modify the downloads cfg script (",(0,l.kt)("inlineCode",{parentName:"td"},"serverscripts"),") to decide about branches status, master visibility and windows availability. Push changes, will be auto-deployed in a few minutes."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Add/update the release date, build number and link on the ",(0,l.kt)("a",{parentName:"td",href:"/general/releases"},"Releases page")," and date in new version pages."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Notify all registered sys admins, including security notes with CVE identifiers, using the ",(0,l.kt)("a",{parentName:"td",href:"http://lists.moodle.org/"},"mailing list server"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Security Officer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"6."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Post about the Major release on the ",(0,l.kt)("a",{parentName:"td",href:"http://moodle.org/news/"},"moodle.org News forum")),(0,l.kt)("td",{parentName:"tr",align:null},"Head of LMS")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"7."),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Post about minor releases on the ",(0,l.kt)("a",{parentName:"td",href:"http://moodle.org/news/"},"moodle.org News forum")),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"8."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"New ",(0,l.kt)("inlineCode",{parentName:"td"},"X.Y+1dev")," branch to be created in AMOS, to have master changes performed there. New ",(0,l.kt)("inlineCode",{parentName:"td"},"install_XY_STABLE")," processing set up. These needs to be done anytime during the on-sync period."),(0,l.kt)("td",{parentName:"tr",align:null},"AMOS Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"9."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Verify, 24h after tagging, that ",(0,l.kt)("a",{parentName:"td",href:"https://moodle.org/dev/contributions.php"},"https://moodle.org/dev/contributions.php")," has been updated with new versions. If not, file an urgent ",(0,l.kt)("inlineCode",{parentName:"td"},"MDLSITE")," issue, crons must be running!"),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"10."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"For ",(0,l.kt)("inlineCode",{parentName:"td"},"en")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"de")," Moodle Docs, update default redirects and enable email notifications."),(0,l.kt)("td",{parentName:"tr",align:null},"Moodle Docs Maintainer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"11."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Go through all points listed under Day of release in ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process/release/newuserdocs"},"New docs version process"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Community Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"12."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("ul",null,(0,l.kt)("li",null,"Decide the ",(0,l.kt)("inlineCode",{parentName:"td"},"Full demo"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"Code freeze")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"QA begins")," dates for the next ",(0,l.kt)("inlineCode",{parentName:"td"},"X.(Y+1)")," major release and put them in the ",(0,l.kt)("a",{parentName:"td",href:"https://www.google.com/calendar/ical/moodle.com_p4c2oe7hsb77ltaro5qtihb5d4%40group.calendar.google.com/public/basic.ics"},"Moodle development calendar"),". They will be -7w, -5w and -4w before release date respectively."),(0,l.kt)("li",null,"Update the ",(0,l.kt)("inlineCode",{parentName:"td"},"Full demo"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"Code freeze"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"QA begins")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"Release")," dates on the Roadmap page."),(0,l.kt)("li",null,"Add events to the HQ calendar for next Major release 6-months cycle according to ",(0,l.kt)("a",{parentName:"td",href:"/general/development/process#sprints"},"the cycle plan"),": ~4 weeks planning and regression fixing, 2 sprints, 1 personal project week, 2 sprints, 1 personal project week, 1 sprint (which should lead up to code freeze)."),(0,l.kt)("li",null,"Notify the Community Manager of new dates to be added to the moodle.org calendar."))),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"13."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Add calendar events in the ",(0,l.kt)("a",{parentName:"td",href:"https://moodle.org/calendar"},"moodle.org calendar")," for coming Major and Minor releases up to the next Major release."),(0,l.kt)("td",{parentName:"tr",align:null},"Community Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"14."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Update release schedule image on ",(0,l.kt)("a",{parentName:"td",href:"/general/releases#version-support"},"Releases page")),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"15."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Important: This must be done ",(0,l.kt)("strong",{parentName:"td"},"once it's already release day @ UTC")," (aka, after Australia/Perth 08:00) or the ",(0,l.kt)("strong",{parentName:"td"},"queues manage with hold them again"),' because it\'s still "last week before release".',(0,l.kt)("br",null),"The ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=13669"},(0,l.kt)("inlineCode",{parentName:"a"},"integration_held"))," label will be removed only ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=filter%3D13669%20AND%20type%20in%20(bug%2C%20task%2C%20Sub-task)"},"from ",(0,l.kt)("strong",{parentName:"a"},"bug issues")," awaiting integration"),"; they correspond to last-week bugs that were held because of them being unrelated with the release. Now they can be processed, under on-sync rules. Standard message will be used to explain the un-hold."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")))),(0,l.kt)("h2",{id:"1-week-after"},"1 week after"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Publish the X.Y+ packages for download.moodle.org (should be automatic once weeklies are packaged).",(0,l.kt)("br",null),"For major releases, within the on-sync period, master packages will be generated using the prerelease.sh script (",(0,l.kt)("inlineCode",{parentName:"td"},"--type on-sync"),"). That guarantees ",(0,l.kt)("inlineCode",{parentName:"td"},"XY_STABLE")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"master")," versions are kept the same. The last week, when leaving the on-sync period, master package will be generated normally (implicit ",(0,l.kt)("inlineCode",{parentName:"td"},"--type weekly"),"), so versions will diverge and dev can continue separately from that point."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Update the version.php in git to be ",(0,l.kt)("inlineCode",{parentName:"td"},"X.Y.Z+")," during the next weekly integration process"),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Create a new release notes page for the next minor versions (using the ",(0,l.kt)("a",{parentName:"td",href:"https://docs.moodle.org/dev/Release_notes_template"},"release notes template"),".) Add note to top of relevant version page about security support."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Add all security advisories to ",(0,l.kt)("a",{parentName:"td",href:"http://moodle.org/security"},"Security news")," and ",(0,l.kt)("a",{parentName:"td",href:"https://docs.moodle.org/dev/:Category:Release_notes"},"release notes")," with links to security advisories"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"5."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:null},"Notify about publications of CVE using form: ",(0,l.kt)("a",{parentName:"td",href:"https://cveform.mitre.org/"},"https://cveform.mitre.org/")),(0,l.kt)("td",{parentName:"tr",align:null},"Security Officer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"6."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Upgrade moodle.org and all other Moodle community sites (next sites first, then production)"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"7."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Deprecations:"),(0,l.kt)("ul",null,(0,l.kt)("li",null,"Create the next deprecation epic (for ",(0,l.kt)("inlineCode",{parentName:"td"},"X.Y+1+2y"),") similar to ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-74579"},"MDL-74579")," and add standard issues to it:",(0,l.kt)("ul",null,(0,l.kt)("li",null,"Final deprecation of ",(0,l.kt)("inlineCode",{parentName:"td"},"lib/deprecatedlib.php")," (like ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-74580"},"MDL-74580"),")"),(0,l.kt)("li",null,"Removal of deprecated Behat steps (like ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-74581"},"MDL-74581"),")"),(0,l.kt)("li",null,"Removal of strings (like ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-74582"},"MDL-74582"),") and"),(0,l.kt)("li",null,"Removal of renamed classes (",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-74583"},"MDL-74583"),").")))),'The issue can be based/cloned on the previous one and linked ("has to be done after") with it.',(0,l.kt)("ul",null,(0,l.kt)("li",null,"Review ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=project%20%3D%20MDL%20AND%20text%20~%20%22Collect%20together%20deprecated%20and%20planned%20code%20changes%20for%20Moodle%22%20AND%20affectedVersion%20in%20(releasedVersions()%2C%20%22Future%20Dev%22)%20AND%20resolution%20%3D%20Unresolved%20ORDER%20BY%20issuekey%20%20DESC"},"how previous deprecation epics are going")," and share about them.")),(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"td"},"Libraries:"),(0,l.kt)("ul",null,(0,l.kt)("li",null,"Create the next third party libraries epic for ",(0,l.kt)("inlineCode",{parentName:"td"},"X.Y+1"),", similar to ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-73715"},"MDL-73715"),". The issue should refer to the list of ",(0,l.kt)("a",{parentName:"td",href:"/general/community/credits/thirdpartylibs"},"Moodle libraries credits"),'. The issue can be based/cloned on the previous one and linked ("has to be done after") with it. ',(0,l.kt)("strong",{parentName:"td"},"Drag/link opened issues from the previous one"),", avoiding leaving unfinished stuff."),(0,l.kt)("li",null,"Review ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?jql=project%20%3D%20MDL%20AND%20(summary%20~%20%22Review%20third%20party%20libraries%20for%20new%20versions%22%20OR%20summary%20~%20%22Review%20third-party%20libraries%20for%20upgrade%22)%20AND%20affectedVersion%20in%20(releasedVersions()%2C%20%22Future%20Dev%22)%20AND%20resolution%20%3D%20Unresolved%20ORDER%20BY%20issuekey%20%20DESC"},"how previous library review epics are going")," and share about them."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")))),(0,l.kt)("h2",{id:"2-weeks-after"},"2 weeks after"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},'Once the "On Sync" period ends:',(0,l.kt)("ul",null,(0,l.kt)("li",null,"Confirm that versions (",(0,l.kt)("inlineCode",{parentName:"td"},"XY_STABLE")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"master"),") diverged properly the last on-sync week. If not, proceed to it by manually bumping master the version to the current date @ integration.git."),(0,l.kt)("li",null,"Disable the ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Manage%20queues%20on%20continuous/"},'"Manage queues on continuous"')," job. It has served us well."),(0,l.kt)("li",null,"The ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=13669"},(0,l.kt)("inlineCode",{parentName:"a"},"integration_held"))," label will be removed from all issues awaiting integration, so they will be, automatically (see next point), be moved to the current integration queue. Send an ",(0,l.kt)("inlineCode",{parentName:"td"},"unholding + rebase")," message to all those issues."),(0,l.kt)("li",null,"Enable the ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/Tracker/job/TR%20-%20Manage%20queues%20on%20normal/"},'"Manage queues on normal"')," job. It will control the queues over the coming months, until the next freeze."),(0,l.kt)("li",null,"In the ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/"},"Jenkins CI server")," enable all the jobs corresponding to the new branch (",(0,l.kt)("inlineCode",{parentName:"td"},"B-XYZ")," view) that were created on packaging day."))),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"The discussion about environmental requirements for next X.Y+1 major release (",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/browse/MDL-71747"},"MDL-71747"),") will end and the issue will be resolved ",(0,l.kt)("strong",{parentName:"td"},"immediately"),". A new issue, about the requirements for the next ",(0,l.kt)("inlineCode",{parentName:"td"},"X.Y+2")," major release will be created at the same time by cloning the previous one and dragging any non-resolved detail (due date = 3w after release)."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Ensure ",(0,l.kt)("a",{parentName:"td",href:"https://download.moodle.org/langpack/X.Y+1/"},"Language pack for master (X.Y+1)")," is available and merge the pull request MR4 for stop skipping the language upgrade in ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/moodlehq/moodle-ci-runner"},"moodle-ci-runner")," repository."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"4."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Ensure release retrospectives are held for each of the LMS teams and results are actioned."),(0,l.kt)("td",{parentName:"tr",align:null},"Development Manager / Head of LMS")))),(0,l.kt)("h2",{id:"1-month-after"},"1 month after"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"#"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Major"),(0,l.kt)("th",{parentName:"tr",align:"center"},"Minor"),(0,l.kt)("th",{parentName:"tr",align:null},"Task"),(0,l.kt)("th",{parentName:"tr",align:null},"Responsibility"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"1."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Remove, in CI servers, all the jobs and views corresponding to branches which support has ended completely. (there is a ",(0,l.kt)("a",{parentName:"td",href:"https://ci.moodle.org/view/maintenance/job/MAINT%20-%20Remove%20all%20jobs%20from%20view/"},"maintenance job")," to perform the operation)."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"2."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},'Upgrade all the Moodle CI sites to recent major release by configuring the "Moodle CI Auto Upgrade" job in all them.'),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"3."),(0,l.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,l.kt)("td",{parentName:"tr",align:"center"}),(0,l.kt)("td",{parentName:"tr",align:null},"Confirm that there isn't any remaining ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=13669"},(0,l.kt)("inlineCode",{parentName:"a"},"integration_held"))," issue from latest release, proceeding to un-hold them immediately. Note that there may exist ",(0,l.kt)("a",{parentName:"td",href:"https://tracker.moodle.org/issues/?filter=13669&jql=project%20%3D%20MDL%20AND%20labels%20in%20(integration_held)%20ORDER%20BY%20%22Integration%20priority%22%20DESC%2C%20priority%20DESC%2C%20votes%20DESC%2C%20%22Last%20comment%20date%22%20ASC"},'other "held" issues'),", unrelated with latest release. This process step does not affect them."),(0,l.kt)("td",{parentName:"tr",align:null},"Integration Team")))),(0,l.kt)("h2",{id:"see-also"},"See also"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/general/development/policies/deprecation"},"Deprecation process"))))}u.isMDXComponent=!0}}]);